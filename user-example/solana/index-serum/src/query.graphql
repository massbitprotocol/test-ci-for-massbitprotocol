#Number of active accounts everyday.
query active_accounts_everyday {
  serum_transaction_account_aggregate(where: {SerumTransaction: {timestamp: {_gte: 1627578000, _lt: 16276644000}}}, distinct_on: pub_key) {
    aggregate {
      count(columns: pub_key)
    }
  }
}


#List of 10 most transfer amount everyday.
query most_transfer_amount {
  serum_transaction_account(distinct_on: change_balance, order_by: {change_balance: desc}, limit: 10, where: {change_balance: {_gte: "0"}, serum_Transaction: {timestamp: {_gte: "1627578000", _lt: "16276644000"}}}) {
    id
    change_balance
  }
}

#Number of difference Instruction
query difference_Instruction {
  serum_instruction_detail_aggregate {
    aggregate {
      count(columns: name, distinct: true)
    }
  }
}


#Number of transaction everyday
query transaction_everyday {
  serum_transaction_aggregate(distinct_on: signatures, where: {timestamp: {_gte: 1627578000, _lt: 16276644000}}) {
    aggregate {
      count
    }
  }
}

#Number of fee per day
query fee_per_day {
  serum_transaction_aggregate(distinct_on: signatures, where: {timestamp: {_gte: 1627578000, _lt: 16276644000}}) {
    aggregate {
      sum {
        fee
      }
    }
  }
}

#Number of Sol transfer amount everyday
query sol_transfer_amount_everyday {
  serum_transaction_account_aggregate(where: {change_balance: {_gte: "0"}, SerumTransaction: {timestamp: {_gte: 1627578000, _lt: 16276644000}}}) {
    aggregate {
      sum {
        change_balance
      }
    }
  }
}

